<!DOCTYPE html>
<html lang="en">

<head>
    <title><%= htmlWebpackPlugin.options.title %></title>
    <style>
        body {
            font-family: sans-serif;
        }
	</style>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <h3>Open console</h3>
	<div id="root"></div>
	
	<div>
        <input type="file">
        <textarea cols="100" rows="20"></textarea>
    </div>
    
	<script>
		let input = document.querySelector('input');
		let textarea = document.querySelector('textarea');
		
		input.addEventListener('change', () => {
			let files = input.files;
		
			if(files.length == 0) return;
		
			const file = files[0];
		
			let reader = new FileReader();
		
			reader.onload = (e) => {
				const file = e.target.result;
				// const lines = file.split(/\r\n|\n/);
				const lines = file.match(/\/\*[\s\S]*?\*\//g);
				// /\r\n|\n/
				// lines = lines.split(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*|<!--[\s\S]*?-->$/)
				textarea.value = lines.join('\n');
			};
		
			reader.onerror = (e) => alert(e.target.error.name);
		
			reader.readAsText(file); 
			
		});	
	</script>
</body>

</html>